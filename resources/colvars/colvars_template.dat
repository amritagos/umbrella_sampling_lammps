# Global output
colvarsTrajFrequency    {{params.output_frequency}}
colvarsRestartFrequency {{params.output_frequency}}
analysis on

colvar {
  name {{params.colvar_variable_name}}  
{% if params.lower_boundary  %}           
  lowerBoundary {{params.lower_boundary}}
{% endif %}
{% if params.upper_boundary  %}   
  upperBoundary  {{params.upper_boundary}}
{% endif %}

  distanceZ {
{% if params.axis  %}  
    # Project along an axis
    axis ({{params.axis[0]}}, {{params.axis[1]}}, {{params.axis[2]}})
{% endif %}
    main {
      atomNumbers { {{params.atom_type}} }
    }
{% if params.ref_atom_type  %} 
    ref {
      atomNumbers { {{params.ref_atom_type}} }
    }
{% else %}
    # Dummy reference point fixed at the origin (0,0,0)
    ref {
      dummyAtom (0.0, 0.0, 0.0)
    }
{% endif %}
  }
}

{% if params.umbrella  %} 
harmonic {
  name umbrella
  colvars {{params.colvar_variable_name}}  
  centers {{params.center}}            # center in Å
  forceConstant {{params.force_constant}}        # kcal/mol/Å^2 (units real)
  outputEnergy yes
}
{% endif %}